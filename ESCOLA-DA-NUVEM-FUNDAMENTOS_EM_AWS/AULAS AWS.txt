Learning course Fundamentos em AWS in the ESCOLA DA NUVEM.

url: https://www.escoladanuvem.org

Prof.: Eduardo Lara

AULA 1 - 

AWS Cloud Practitioner: https://aws.amazon.com/pt/certification/certified-cloud-practitioner/?ch=tile&tile=getstarted

Visão Geral AWS (ALGUNS SERVIÇOS)
Computação
    EC2
    AMAZON EC2 AUTO SCALING (Escalabilidade)
    AMAZON ELASTIC BREANSTALK (Elásticidade)
    AMAZON LAMBDA

Redes e Entregas de Conteúdo
    AMAZON VPC
    AMAZON ROUTE 53
    AMAZON CLOUDFORNT
    ELASTIC LOAD BALANCIG

Gerenciamento e Governança
    AMAZON CloudWatch
    AWS Auto Scaling
    AWS Trusted Advisor
    AWS Organizations
    AWS CloudFormation
    AWS Config
    AWS CloudTrail

Banco de Dados
    AMAZON RDS 
    AMAZON DynamoDB

Segurança, Identidade e Compliance
    AWS Identity & Access Management 
    AWS WAF
    AWS Shield
    AWS Artifact

Gerencimamento de Custos
    Calculadoras 
    AWS Calculadoras
    AWS Cost Explorer
    AWS Orçamentos

Armazenamentos
    Amazon S3
    Amazon EBS 
    S3 Glacier
    Familía Snow

Computação em nuvem
    "É a entrega sob demanda de recursos computacionais, atra´ves de uma plataforma de serviços via internet,sem gerenciamento ativo de usuário."

Vantagens da Computação na nuvem
    1.Save Money: Economia de dinheiro. Paga apenos por aquilo que usar.
    2.Stop Guessing: Com computação em nuvem é possível alterar as configurações da instância a qualquer momento. Usa-se o recurso é necessário naquele instante.
    3.Variable Expenses: Despesa variável. Paga só no momento que usar o serviço. Sem taxa fixa.
    4.Economies of Scale: Possibilidade de custa mais barato no momento em quê mais clinetes usam o mesmo serviço. Quanto mais gente usando, mais barato o serviço pode ficar.
    5.Increase Speed and Agility: Agilidade nas alterações no serviço. Ex: Aumentar ou diminuir processamento/memória/armazenamento, etc.
    6.Go Global: Velocidade de acesso a nuvem. 

IaaS, SaaS e PaaS
    Modelos de Computador
        Infraestrutura como serviço: Fornecimento de uma infraestrura para uso. Apenas responsabilidade pela infraestrutura. O usário é responsável pelo sistema e aplicações de sua necessidade.
        Plataforma como serviço: Serviço responsável pela infraestrutura e sistema operacional. O usuário apenas roda suas aplicações.
        Software como serviço: Serviço responsável por tudo. Infra/SO/Aplicativos. O usuário apenas usa o serviço.


Escalabilidade x Eslasticidade
Escalabilidade é aumentar/diminuir números de instâncias
Elasticidade é aumentar/diminuir os recursos computacionais. Ex Serviços AWS: Amazon EC2, Elastic Load Balancing, AWS Elastic Beanstalk, Amazon Elastic Cache
    Benfícios
        Melhoraa disponiblidade
        Obter um ambiente tolerante a falhas
        Refletir ns custos operacionais

Infraestrutura Global da AWS
    DEFINIÇÃO REGIÃO:
        Uma região é a disponiblidade de uma coleção de recurso AWS em uma localização geografica, sendo ele composto por um conjunto de zonas de disponiblidade.
        Região é um conjunto de data centers em uma localização geográfica.

    DEFINIÇÃO ZONA DE DISPONIBILIDADE:
        Uma zona de disponiblidade é um ou mais datas centes que estao na mesma região, porem separadas por uma distância significativa, atuando de forma independentes em casos de falhas de uma zona.

    DEFINIÇÃO PONTO DE PRESENÇA:
        Um ponto de presença é uma infraestrutura de servidores, localizados proximo de uma zona de disponibilidade, que armazena os dados 
        mais solicitados no cache, para entregar com menor latência uma requisição de consulta. Ex: PoPs - São utilizados como cache de dados para distribuição de conteúdo.

DICA DE EXAME:
    REGIÃO é um conjunto de data centers em uma localização geográfica.
    Cada REGIÃO possui um conjunto de ZONAS DE DISPONIBILIDADE.
    ZONA DE DISPONIBILIDADE estão distintos a quilômetro de distância uma das outras, conectadas com alta velocidade, comsegurança local, refigeração e podem ser um ou mais data centers.
    Edge Location ou PoPs são utilizados como cache de dados para distribuição de conteúdo.

Serviços Regionais e Serviçõs Globais
SR:
    Computação:
    EC2, LAMBDA, ELASTIC BEANSTALK, EC2 AUTO SCALING 
SG:
    Redes e Entregas de Conteúdo:
    CLOUDFRONT, ROUTE 53
    Segurança, Identidade e Compliance 
    WAF, ACCESS MANAGEMENT 

Responsabilidade Compartilhada - https://aws.amazon.com/pt/compliance/shared-responsibility-model/
Enquanto AWS gerencia a segurança DA nuvem, VOCÊ é reponsavel pela segurança NA nuvem.

SECURITY OF - AWS
SECURITY IN - CUSTOMER (YOU)

CERTIFICAÇÃO
Iso 27001: Disponibilidade, confidencialidade e integridade.

DICA DE EXAME:
Um recurso deixa de ser gerenciado por você quando a outra parte inicia o gerenciamento, as atualizações, a manutenção do sistema operacional e a segurança.


AULA 02 - 

PLANOS DE SUPORTE: https://aws.amazon.com/pt/premiumsupport/plans/

Dicas de exame:
    Case de suporte técnico nao sao oferecidos no plano basico
    Trsuted Advisor complet soment nos planos Bussiness, enterprise on-ramp, enterprise
    Suporte em ate 15min, apenas plano enterprise
    TAM e Consierge apenas no plano enterprise.

Interfaces de Acesso da AWS
    AWS Management Console
        AWS Console Mobile App
    Command Line Interface (CLI)
    Software Development Kit (SDK)
        JavaScript
        Python(boto)
        PHP
        GoNode.js 
        C++
        .NET
        Ruby
        Java 

Dicas do exame:
3 interfaces de conexão
    CONSOLE GERENCIAMENTO AWD (VIA HTTP E APP)
    AWD Command LINE Interface (via terminal)
    Software Development kIT (via API)

DESCRIÇÃO - AWS Budgets (Orçamentos da AWS)
    O AWS budgets (orçamentos da aws) permite que você defina orçamentos personalizados para rastrear seu custo e uso.
    Você pode escolher ser alertado pro e-mail ou notificação SMS quando o custo real ou previsto e o uso excederem o limite do seu orçamento.

DESCRIÇÃO - AWS Cost Explorer
    O AWS Cost Explorer tem uma interface fácil de  usar que permite visualizar, entender e gerenciar os custos e o uso da AWS ao logo do tempo.

AWS Pricing Calculation: https://calculator.aws/#/

AULA 3 - IAM
AWS IDENTITY AND ACCESS MANAGEMENT

Users, Groups & Roles
    Usuários: 
        Pessoa ou serviço, com credenciais PERMANENTES.
        NÃO compartilhe o usuário ROOT & use o LEAST PRIVILLEGE.

    Grupos:
        Coletivo de Usuários.
        Grupos não podem conter outros grupos.
    
    Funções:
        Não são suas permissões.
        É um método de autenticação temporária.

Regra básica
    autenticação: usuário, grupos e Funções.
    autorização: políticas e permissões.

Autorizar: Políticas e permissões
    Documento JSON que define as permissões de acesso.

API Engine
    AWS IAM: autenticação

Dicas de exame
    Usuários possuem credencias permanentes e funções possuem credenciais temporárias.
    Usuários root NÃO devem ser compartilhados.
    Use o LEAST PRIVILLEGE PRINCIPLE nos usuários.
    Documentos JSON definen as permissões de acesso.
    Grupos contémusuários mas NÃO podem conteroutros grupos.

CRIANDO USER AND GROUP
>PESQUISAR POR IAM
>ACESSAR IAM(IDENTITY AND ACCESS MANAGEMENT)
>NO PAINEL À ESQUERDA, CLICAR EM "USUÁRIOS"
>CLICAR NO BOTÃO "ADICIONAR USUÁRIO"
>DÁ NOME PARA O NOVO USUÁRIO
>DEFINIR TIPO DE CREDENCIAIS 
>AVANÇAR
>CRIAR UM GRUPO OU ASSOCIAR O NOVO USUÁRIO À ALGUM GRUPO JÁ EXISTENTE

>"CRIAR GRUPO"
>DEFINIR NOME PARA O NOVO GRUPO (SEM POLÍTICA)
>CLICAR NO BOTÃO "CRIAR GRUPO"
>AINDA EM "GRUPOS DE USUÁRIOS", CLICAR NONE DO NOVO GRUPO PARA ADICIONAR USUÁRIOS PARTICIPANTES
>CLICAR EM "ADICIONAR USUÁRIOS"

ADICIONANDO POLÍTICAS DE PERMISSÕES 
>EM "GRUPOS DE USUÁRIOS", CLICAR NO NOME DO GRUPO QUE RECEBERÁ A NOVA PERMISSÃO
>CLICAR NA ABA "PERMISSÕES"
>CLICAR EM ADICIONAR PERMISSÕES, E ESCOLHER A OPÇÃO ANEXAR POLÍTICA
>PESQUISAR PELA PERMISSÃO QUE O GRUPO TERÁ ACESSO. POR EXEMPLO: AmazonS3ReadOnlyAccess


AWS WAF
    Firewall de aplicativos web que permite especificar qual tráfego tem o seu acesso permitido OU bloqueado, mediante a definição de regras personalizáveis.
    
    Características
        Filtrar o tráfego com regras (Web Acl) - Camada 7 HTTP.
        Bloquear requisições malicioasa como SQL injection (SQLi) e cross-site scripting (XSS).
        Bloquear países (geo-match), size constraints e rate-rules.
    
Dica de exame
    WAF é um Firewall de aplicação Web
    Atua na camada 7 - HTTP
    Bloqueia SQL injection (SQLi) e cross-site scripting (XSS)
    Geo-match (bloqueio países), size constraints (limita tamanho das requisições) e rate based-rules (limita quantidade de requisições por segundo).

AWS SHIELD - STANDARD E ADVANCED

    DDoS - Distributed Denial of Service

    AWS SHIELD STANDARD
        Gratuito para todos os clientes AWS
        Proteção SYN/UDP Floods. Reflection Attacks
        Outros ataques na cama 3 e camada 4
    
    AWS SHIELD ADVANCED
        Serviço pago 
        Suporte 24x7
        Proteção extra nos serviços: Amazon EC2, Elastic Load Balancing(ELB), Amazon CloudFront, AWS Global Accelerator e o Router 53.

DICAS DO EXAME:
    AWS Shield é para mitigar ataques DDoS
    Standard é gratuito para todos
    Advanced é pago, suporte 24x7e possuiproteção extra em determinados serviços

AULA 4 - AMAZON EC2

CARACTERÍSTICAS:
    Amazon EC2 -> Elastic Compute Cloud
    Modelo Infraestrutura como Serviço
    Alugar máquina virtuais (EC2)
    Armazenar dados em volumes virtuais (EBS)
    Distribuir a carga de trabalho (ELB)
    Escalar o serviço de acordo com a demanda (ASG)

    Serviços:
        Amazon EC2
        Amazon Elastic Block Software
        Elastic Load Balancing
        Amazon EC2 Auto Scaling

CONEXÕES E ACESSO
    AUTENTICAÇÃO E AUTORIZAÇÃO 
    
TIPOS DE INSTÂNCIA
    Ver imagens: TIPOS DE INSTANCIAS.PNG E TIPOS DE INSTANCIAS - RESUMO.PNG
    
ENTENDENDO A INSTÂNCIA
    T2.2xlarge

    T=TIPO
    2=GERAÇÃO
    T2=FAMÍLIA
    2xlarge=TAMANHO 
        .nano
        .micro
        .small
        .medium
        .large
        .xlarge
        .metal
    
DICAS DO EXAME:
    O Amazon EC2 é um serviço web que disponibiliza uma capacidade computacional segura, representado por uma
instância redimensionável na Nuvem.
    Modelo Computacional Infrestrutura como Serviço.
    Ambiente operacional Windows, macOS e Linux.
    Cobrança por hora ou segundo (mínimo 60 segundos)
        Hora: Windows
        Minutos: Linux

ACESSANDO INSTÂNCIA VIA SSH - WINDOWS (VIA TERMINAL PROMPT DE COMANDO OU POWERSHELL)
Passo 1>Instalar WSL (https://docs.microsoft.com/en-us/windows/wsl/install)
Passo 2>Acessar Console Web da AWS com seu usuário, senha e MFA(se estiver habilitado).
Passo 3>Acessar EC2
Passo 4>Acessar o manu "Instâncias"
Passo 5>Clicar no Id de instância na coluna "Id de instância"
Passo 6>Clique no botão "Conectar"
Passo 7>Clique na aba "Cliente SSH"
Passo 8>Copier o comando em "Exemplo" (ssh -i "NOME_DA_USA_CHAVE_.PEM" NOME_DO_USUARIO@IP_PUBLICO_DA_INSTÂNCIA)
Passo 9>No Windows, use o tecla de atalho "TeclaWindows+R" (irá abrir uma pequena janela), digite CMD (ou PowerShell) e clique em OK.
Ou use a pesquisa e digite CMD (PowerShell).
Passo 10>No CMD, navegue até o diretório onde encontra-se a sua chave.PEM (chave baixada no ato da criação da instância
ou anteriormente na catergoria Redes e Segurança/Par de chaves).
Passo 11>Coler a linha de comando copiado no Passo 8.
Passo 12>Digite "yes" para permitir o acesso.
Passo 13>Desfrute da sua máquina na Nuvem. :D

LUNCH TYPES
    SOB DEMANDA 
    INSTANCIAS RESERVADAS
    INSTANCIAS SPOT
    HOST DEDICADO    

ON-DEMAND INSTANCES
    SOB DEMANDA
        Alto custo se usado por longo prazo 
        Cobrança o que usar (por horas ou segundo)
        Sem compromisso de uso (anos)
        Sem pagamento adiantado
        Pode aumentar ou diminuir a capacidade computacional

        ÚTIL: Carga de trabalho de curto prazo, validar hipóteses, com pico de utilização previsível, testar e experimentar um ambiente.

RESERVED INSTANCES
    INSTÂNCIA RESERVADAS
        Até 75% desconto comparação instância por demanda.
        Aplicações que exige capacidade reservada
        Comprometimento de uso da instância por um período de 01 ou 03 anos
        Possui pagamento adiantado

        ÚTIL: Ambiente de produção que foi testado e não será modificado aplicações que precisar ser estado constante; excelente para banco de dados.

DEDICATED HOST
    HOST DEDICADO
        Hardware Dedicado 
        Servidor físico EC2 exclusivo para você
        Cumprir requisitos de conformidade

    Vesibilidade de soquetes, núcleos, IDs de HOST
    Compeometimento por um período de 03 anos
    Pode ser comprado sob demanda de horas
    Se optar por reserva, até 70% desconto em comparação com instância por demanda.

    ÚTIL: Vincular licenças de software como Windows Server, SQL, ...

DEDICATED INSTANCES
    INSTÂNCIA DEDICADA
        Hardware Dedicado
        Pode compartilhar o hardware com outrs instâncias, na mesma conta.
        Não tem controle sobre o posicionamento da instâcia (você só pode movimentar o hardware se interromper e reiniciar)
        Comprometimento por um período de 3 anos.

SPOT INSTANCES
    INSTÂNCIAS SPOT
        Até 90% desconto comparação instância por demanda
        São terminadas quando o preço do spot, é maior do que o preço que você estabelece para pagar.
        Memorize como leilão de instâncias
        Terminate = (preço spot AWS > seu preço)
        Não utilize para trabalhos críticos e bancos de dados

        ÚTIL: Quando vocÊ tem urgência de grande capacidade computacionais, workloads que podem parar e serem iniciados novamente, trabalhos em lot, análise de dados, processamento de imagens.

AWS AUTO SCALING GROUP 
Para que precisamos?
    Escalabilidade automatizada
    Scale Out (adicionar instancia) - Coloca instâncias/Expande.
    Scale In (remove instânica) - Recolhe as instâncias.

DIFERENÇA ENTRE AWS AUTO SCALING E ELASTIC LOAD BALANCING 
    AWS AUTO SCALING:
        Acrescenta ou remove instâncias de acordo com o fluxo de acessos.
    ELASTIC LOAD BALANCING:
        Aponta o usuário para instância que possui menor fluxo de acesso.

DICAS DO EXAME:
    Definir uma quantidade MÍNIMA, DESEJÁVEL e MÁXIMA de instâncias.
    Realiza VERIFICAÇÕES (halth check), finaliza as instâncias NÃO SAUDÁVEIS (unhealthy) e inicia novas.
    Scale out (AUMENTA com as demandas) e Scale in (DIMINIU quando a demanda deixa de ocorrer).
    Auto Scaling Group é GRATUITO, você paga apenas pelas instâncias que estão sendo executadas.

AWS ELASTIC BEANSTALK
DEFINIÇÃO
    O AWS ELASTIC BEANSTALK é um serviço gerenciado, para os desenvolvedores realizarem uma fácil utilização de implantação e escalabilidade de aplicações e serviços web.

DICAS DO EXAME:
    Serviço gerenciado e gratuito.
    Plataforma com Serviço (PaaS).
    Upload código arquivo <512Mb ou Upload via URL Bucket S3.
    Balanceamento carga (load balancer).
    Alta disponibilidade (multi-az).
    Auto Scaling Group (ASG)

MEMORIZAÇÃO: Você "planta" o código e a AWS conecta os serviços para subir sua aplicação.

AWS LAMBDA
DEFINIÇÃO
    O AWS Lambda permite que você execute códigos sem provisionar ou gerenciar servidores, pagando apenas pelo numeros de solicitações e pelo tempo de computação que vocÊ utilizar.

CARACTERÍSTICAS 
    Serverless
    Escalável
    Baixo custo
    Múltiplas linguagens

LINGUAGENS
    Java
    Go
    PowerShell
    Node.Js 
    C#
    Phyton
    Ruby 
    {api} - Integração de outras linguagens

FUNCIONAMENTO
    Upload Código ou Edição Nativa -> Função Lambda -> AWS Lambda -> Pagamento por execução e tempo 
                                            ^
    Amazon Simple Storage Service (S3) | Amazon API Gateway | Amazon DynamoDB | Amazon Simple Notification Service | Amazon CloudFront | Modile App                    

DICAS DO EXAME:
    Serviço serverless e gerenciado pela AWS
    AWS Lambda dimensiona suas aplicações
    Você pode otimizar o tempo de execução e tamanho de memória 
    Cobrança por número de solicitações de suas funcções e pela duração por cada milissegundo que leva para que seu código seja executado.